# === FORCE SINGLE-BINARY DEPLOYMENT ===
singleBinary:
  enabled: true
  replicas: 1
  persistence:
    enabled: true
    storageClass: gp2
    size: 10Gi

# === REQUIRED FOR SIMPLE MODE ===
loki:
  auth_enabled: false

  # REQUIRED FOR CHART 6.x, even in filesystem mode
  storage:
    type: filesystem
    bucketNames:
      chunks: dummy
      ruler: dummy
      index: dummy

  # REQUIRED for Loki chart 6.x
  schemaConfig:
    configs:
      - from: 2020-10-24
        store: boltdb-shipper
        object_store: filesystem
        schema: v11
        index:
          prefix: loki_index_
          period: 24h

# Disable simpleScalable (MUST set replicas = 0)
backend:
  enabled: false
  replicas: 0

read:
  enabled: false
  replicas: 0

write:
  enabled: false
  replicas: 0

gateway:
  enabled: false

monitoring:
  selfMonitoring:
    enabled: false
    grafanaAgent:
      installOperator: false

test:
  enabled: false
