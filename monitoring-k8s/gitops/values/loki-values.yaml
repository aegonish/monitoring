# === FORCE SINGLE-BINARY DEPLOYMENT ===
singleBinary:
  enabled: true
  replicas: 1
  persistence:
    enabled: true
    storageClass: gp2
    size: 10Gi

# All other config MUST be nested under loki:
loki:
  auth_enabled: false

  storage:
    type: filesystem
    filesystem:
      chunks_directory: /var/loki/chunks
      rules_directory: /var/loki/rules
    bucketNames:
      chunks: dummy
      ruler: dummy
      index: dummy

  schemaConfig:
    configs:
      - from: 2020-10-24
        store: boltdb-shipper
        object_store: filesystem
        schema: v11
        index:
          prefix: loki_index_
          period: 24h

  # Disable ALL simple-scalable components
  backend:
    replicas: 0

  read:
    replicas: 0

  write:
    replicas: 0

  gateway:
    enabled: false

  monitoring:
    selfMonitoring:
      enabled: false
      grafanaAgent:
        installOperator: false

  test:
    enabled: false
